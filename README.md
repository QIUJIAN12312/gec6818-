# gec6818-
基于Linux系统调用，驱动LCD和触摸屏，实现BMP/JPG图片文件扫描，解码与滑动切换浏览。使用双向循环链表存放图片的路径
# 嵌入式Linux图片浏览器 (auto_pic)

## 项目简介
这是一个基于 C 语言开发的嵌入式 Linux 图片浏览器程序。它能够自动扫描指定目录下的 BMP 和 JPG/JPEG 图片文件，并通过触摸屏进行滑动切换浏览。该项目旨在展示 Linux 系统下文件I/O、帧缓冲操作、触摸屏事件处理以及 JPEG/BMP 图片解码等核心技术在嵌入式设备上的应用。

## 功能特性

* **图片扫描：** 递归扫描指定目录及其子目录下的 `.bmp`, `.jpg`, `.jpeg` 图片文件。
* **图片管理：** 使用双向循环链表存储图片路径，支持动态添加和删除（通过上滑删除）。
* **图片解码：**
    * 支持 24 位 BMP 图片解码。
    * 集成 `libjpeg` 库，支持 JPG/JPEG 图片解码。
* **LCD 显示：** 通过 Linux 帧缓冲设备 (`/dev/fb0`) 直接驱动 LCD 屏幕显示图片。
    * **自动适应屏幕分辨率**（默认为 800x480）。
    * 支持多种颜色深度（16位 RGB565, 24位 RGB888, 32位 ARGB8888/XRGB8888）。
* **触摸屏交互：**
    * 通过读取 `/dev/input/event0` 触摸屏设备事件进行交互。
    * 支持**左右滑动**切换图片。
    * 支持**上滑删除**当前图片（如果图片不止一张）。

## 开发环境
* **操作系统：** Linux (如 Ubuntu)
* **交叉编译器：** `arm-linux-gcc` (或兼容的 ARM GCC 工具链)
* **目标硬件：** 运行 Linux 的嵌入式开发板（带 LCD 屏幕和触摸屏）
* **所需库：** `libjpeg` (需针对 ARM 架构进行交叉编译并安装)

## 如何编译

### 1. 准备工作

* **安装 `arm-linux-gcc`：** 确保你的开发环境中已正确安装并配置好 `arm-linux-gcc` 交叉编译工具链。
* **交叉编译 `libjpeg`：** `libjpeg` 库是必须的。你需要从 `libjpeg` 官网下载其源代码，然后使用你的 `arm-linux-gcc` 交叉编译工具链进行编译和安装。
    * 确保 `jpeglib.h` 等头文件位于你的工具链的 `include` 路径下。
    * 确保 `libjpeg.a` 或 `libjpeg.so` 库文件位于你的工具链的 `lib` 路径下。

### 2. 项目结构

将 `auto_pic.c` 文件放置在项目的根目录下，并创建以下目录结构：

### 3. 编译命令

在终端中，进入到 `auto_pic.c` 文件所在的目录，然后执行以下编译命令：
请在 `images/` 目录中放入一些用于测试的 BMP 和 JPG 图片。

### 3. 编译命令

在终端中，进入到 `auto_pic.c` 文件所在的目录，然后执行以下编译命令：
使用jpeg库的代码的编译
```bash
arm-linux-gcc  show_jpg.c -o show_jpg  -I  /home/vcc/jpeg/include  -ljpeg   -L /home/vcc/jpeg/lib
